import{a as b}from"./axios-C8DqakIB.js";import{S as g}from"./StockSearch-sBz7NeZz.js";import{d as u,r as x,j as w,a as d,b as l,i as p,e as n,p as D,h as N,_ as k}from"./index-Dp-9lDX_.js";/* empty css                                                                       */const h=s=>(D("data-v-9b258cb5"),s=s(),N(),s),C={class:"container mx-auto p-4"},I={key:0,class:"chart-container"},O={class:"flex-1 min-w-[400px] max-w-[500px] bg-gray-100 p-4 rounded-lg shadow-md"},$=h(()=>n("h2",{class:"text-2xl font-bold text-gray-800 mb-4 text-center"},"Dividends and Capital Gains Chart",-1)),M={class:"flex-1 min-w-[300px] max-w-[600px] bg-gray-100 p-4 rounded-lg shadow-md"},B=h(()=>n("h2",{class:"text-2xl font-bold text-gray-800 mb-4 text-center"},"Stock Splits Chart",-1)),G={key:1},j=h(()=>n("p",null,"Enter the stock ticker to view charts.",-1)),V=[j],E=u({__name:"DividendCharts",setup(s){const o=x([]),m={chart:{id:"dividends-and-gains-chart"},xaxis:{type:"datetime",title:{text:"Date"}},yaxis:{title:{text:"Value per Share (USD)"},labels:{formatter:e=>`$${e.toFixed(2)}`}},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:e=>`$${e.toFixed(2)}`}}},r=x([]),f={chart:{id:"splits-chart"},xaxis:{type:"datetime",title:{text:"Date"}},yaxis:{title:{text:"Split Ratio"},labels:{formatter:e=>`${e}`}},tooltip:{x:{format:"dd MMM yyyy"},y:{formatter:e=>`${e}`}}},_=e=>Math.round(e*100)/100,y=async e=>{try{const a=await b.get(`http://127.0.0.1:5000/api/stock/${e}/actions`),c=JSON.parse(a.data.dividends),S=JSON.parse(a.data.capital_gains),v=JSON.parse(a.data.splits);o.value=[{name:"Dividends",data:Object.entries(c).map(([i,t])=>typeof t=="number"&&!isNaN(t)?{x:new Date(Number(i)).toISOString(),y:_(t)}:(console.error("Invalid value for Dividends:",t),null)).filter(Boolean)},{name:"Capital Gains",data:Object.entries(S).map(([i,t])=>typeof t=="number"&&!isNaN(t)?{x:new Date(Number(i)).toISOString(),y:_(t)}:(console.error("Invalid value for Capital Gains:",t),null)).filter(Boolean)}],r.value=[{name:"Stock Splits",data:Object.entries(v).map(([i,t])=>typeof t=="number"&&!isNaN(t)?{x:new Date(Number(i)).toISOString(),y:t}:(console.error("Invalid value for Stock Splits:",t),null)).filter(Boolean)}]}catch(a){console.error("Error fetching stock data:",a),o.value=[],r.value=[]}};return(e,a)=>{const c=w("apexchart");return d(),l("div",C,[p(g,{onSearch:y}),o.value.length>0&&r.value.length>0?(d(),l("div",I,[n("div",O,[$,p(c,{type:"scatter",options:m,series:o.value,class:"w-full",height:"350",width:"650"},null,8,["series"])]),n("div",M,[B,p(c,{type:"scatter",options:f,series:r.value,class:"w-full",height:"350",width:"650"},null,8,["series"])])])):(d(),l("div",G,V))])}}}),J=k(E,[["__scopeId","data-v-9b258cb5"]]),P=u({__name:"DividendView",setup(s){return(o,m)=>(d(),l("main",null,[p(J)]))}});export{P as default};
